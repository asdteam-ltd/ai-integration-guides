## 1. Вступ: Мета та область застосування

Ця методичка призначена для команд, які доопрацьовують проєкти, частково або повністю згенеровані штучним інтелектом. Вона встановлює базові правила, що дозволяють швидко інтегрувати зміни без перегляду архітектури, з фокусом на безпеку та стабільність. Методичка застосовується до проєктів, де час реалізації є критичним, а стабільність і безпечність — пріоритетними.

---

## 2. Правила розробки

Щоб інтеграція нових функцій у AI-згенерований проєкт була стабільною й контрольованою, дотримуйтесь таких принципів:

1. **Не змінювати архітектуру**
   – Не рефакторити основну структуру без затвердження.
   – Новий код додається в існуючі модулі або як ізольовані сервіси/компоненти.

2. **Дотримуватись стилю та шаблонів**
   – Використовувати наявні сервіси, DTO, ентіті, контролери.
   – Дотримуватись naming convention, структури пакетів і форматування коду.

3. **Мінімізувати залежності**
   – Не додавати нові бібліотеки без письмового погодження.
   – Уникати дублювання коду, сервісів, моделей.

4. **Обов’язкове логування ключових точок**
   – Дії типу логін, зміна ролей, помилки, транзакції мають логуватись.
   – Заборонено логувати персональні або платіжні дані.

5. **Тестування змін**
   – Обов’язково покривати нову логіку unit-тестами.
   – Важливі шляхи (автентифікація, зміна статусу, API-помилки) перевіряти вручну.

6. **Безпека передусім**
   – Не зберігати токени, паролі або ключі в коді чи логах.
   – Усі API мають бути захищені авторизацією.

---

## 3. Вимоги до безпеки

Для проєктів, що згенеровані або доопрацьовані за участі AI, безпека є критичним елементом. Перед релізом кожної фічі обов’язкове виконання наступного:

1. **Статичний аналіз коду (SAST)**
   – Використовувати SonarQube або аналогічний інструмент.
   – Виправити всі критичні та високі вразливості.

2. **Динамічне тестування (DAST)**
   – Сканування через OWASP ZAP або Burp Suite.
   – Особлива увага до ендпоінтів авторизації та платіжних операцій.

3. **Перевірка секретів і токенів**
   – Аналіз репозиторію за допомогою `git-secrets`, `trufflehog`.
   – Заборонено зберігати секрети у відкритому коді або `.env` без шифрування.

4. **Ручна перевірка критичних компонентів**
   – Логін, реєстрація, відновлення пароля.
   – Доступ до адміністративних функцій.
   – Обробка платіжних і персональних даних.

5. **Фінальна перевірка через Claude.ai**
   – Генерація короткого аудиту з виявленими ризиками та порадами щодо усунення.

---

## 4. Ідентифікація критичних точок

AI-згенеровані проєкти часто містять слабкі місця у критичних зонах. Їх необхідно перевіряти в першу чергу, незалежно від загального обсягу змін:

1. **Аутентифікація та авторизація**
   – Ненадійна логіка аутентифікації
   – Відсутність перевірки прав доступу
   – Неправильне управління сесіями та токенами
   – Порушення принципу найменших привілеїв

2. **Обробка введених даних**
   – Відсутність або слабка валідація
   – Обхід валідаційної логіки
   – Вразливість до SQL/NoSQL-інʼєкцій
   – Вразливість до XSS

3. **Збереження та передача чутливої інформації**
   – Збереження паролів, токенів, секретів у відкритому вигляді
   – Відсутність HTTPS або неправильна реалізація TLS
   – Порушення політик CORS та CSP

4. **Зовнішні інтеграції та API**
   – Неконтрольований доступ до сторонніх API
   – API з фінансовими транзакціями без обмежень
   – Використання AI-згенерованих запитів без перевірки

5. **Інфраструктура та DevOps**
   – Відсутність сек’юріті-сканінгу в CI/CD
   – Публічне розгортання без ізоляції середовищ
   – Вразливості через застарілі або невідомі залежності

6. **Логування та моніторинг**
   – Відсутність логування важливих подій
   – Витік чутливих даних через логи
   – Слабкий моніторинг аномалій та спроб атак

7. **Надійність AI-згенерованого коду**
   – Вбудовані бекдори
   – Некоректна логіка або обробка виключень
   – Відсутність ревʼю з боку розробників

8. **Перевантаження API**
   – DoS через необмежені запити
   – Відсутність rate limiting / throttling
   – Ненадійна обробка асинхронних подій

---

## 5. Типові помилки

AI-генерований код часто виглядає правильним, але має серйозні вразливості. Нижче наведено найпоширеніші помилки, які зустрічаються в реальних проєктах:
Ось нейтрально сформульований розділ **«Типові помилки та кейси з практики»**, без прив'язки до конкретних мов чи інструментів:

1. **Небезпечна обробка токенів**
   – Відсутність перевірки підпису та терміну дії
   – Недостатній контроль ролей
   – Слабкі алгоритми підпису або ключі

2. **Інʼєкції та необроблене введення**
   – Формування запитів без валідації
   – Можливість виконання небажаного коду
   – Відсутність параметризації

3. **Вразливості при відображенні**
   – Виведення введеної інформації без екранування
   – Можливість XSS-атак через UI

4. **Погане поводження з конфіденційною інформацією**
   – Хардкод паролів і ключів
   – Витік секретів у публічних репозиторіях
   – Відсутність шифрування критичних даних

5. **Недостатня перевірка доступу**
   – Дії без авторизації
   – Неправильно захищені API

6. **Поверхнева валідація**
   – Тільки на клієнті, без перевірки на сервері
   – Відсутність перевірки структури або меж

7. **AI-специфічні ризики**
   – Prompt injection
   – Небезпечні рекомендації залежностей
   – Витік даних у процесі генерації

---

## 6. Security Scanning

Для забезпечення базового рівня безпеки у проектах, що генеруються або допрацьовуються за участі ШІ, необхідно пройти мінімальний набір перевірок. Рекомендується дотримуватись наступної послідовності:

1. **SAST**
   – Запуск через SonarQube
   – Виявлення вразливостей, антипатернів

2. **Аналіз залежностей**
   – OWASP Dependency Check
   – Виявлення вразливих бібліотек

3. **DAST**
   – OWASP ZAP або Burp Suite
   – Перевірка ключових ендпоінтів

4. **Секрети в репозиторії**
   – Git-secrets, Trufflehog
   – Виявлення токенів, ключів

5. **Ручний аудит**
   – Логіка логіну, реєстрації, фінансових дій
   – Адмін-функції

6. **AI-аналіз коду**
   – Локальний AI-аналітик
   – Генерація звіту з ризиками та порадами

---

## 7. Перспективи автоматизації процесів

З метою підвищення стабільності та швидкості перевірок, доцільно автоматизувати етапи аналізу безпеки та якості коду в рамках CI/CD-процесів. Це дозволяє виявляти критичні проблеми ще до ручного ревʼю та зменшує залежність від людського фактору.

1. **Вхідний параметр — URL або Git-репозиторій**
2. **SAST** — автоматичний запуск
3. **Перевірка залежностей**
4. **DAST** — запуск у тестовому середовищі
5. **Пошук секретів** — Trufflehog, GitGuardian
6. **AI-аудит** — надсилання в Claude.ai або LLM
7. **Звіт** — збір результатів з критичністю, шляхами виправлення, лінками на код
8. **Інтеграція** — коментарі до Pull Request або дашборд, блокування мержу при помилках

---
