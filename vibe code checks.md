## 1. Вступ: Мета та область застосування

Ця методичка призначена для команд, які доопрацьовують проєкти, частково або повністю згенеровані штучним інтелектом. Вона встановлює базові правила, що дозволяють швидко інтегрувати зміни без перегляду архітектури, з фокусом на безпеку та стабільність. Методичка застосовується до проєктів, де час реалізації є критичним, а стабільність і безпечність - пріоритетними.


## 2. Правила розробки

Щоб інтеграція нових функцій у AI-згенерований проєкт була стабільною і контрольованою, дотримуйтесь таких принципів:

1. **Не змінювати архітектуру**
   – Не рефакторити основну структуру без затвердження.
   – Новий код додається в існуючі модулі або як ізольовані сервіси/компоненти.

2. **Дотримуватись стилю та шаблонів**
   – Використовувати наявні сервіси, DTO, ентіті, контролери.
   – Дотримуватись naming-convention, структури пакетів і форматування коду.

3. **Мінімізувати залежності**
   – Не додавати нові бібліотеки без письмового узгодження.
   – Уникати дублювання коду, сервісів, моделей.

4. **Обов’язкове логування ключових точок**
   – Дії типу логін, зміна ролі, помилки, транзакції - мають логуватись.
   – Не логувати персональні або платіжні дані.

5. **Тестування змін**
   – Обов’язково покривати нову логіку unit-тестами.
   – Важливі шляхи (автентифікація, зміна статусу, API помилок) - перевірити вручну.

6. **Безпека передусім**
   – Не зберігати токени, паролі або ключі в коді чи логах.
   – Усі API мають бути захищені авторизацією.


## 3. Вимоги до безпеки

Для проєктів, що згенеровані або доопрацьовані за участі AI, безпека є критичним елементом. Перед релізом кожної фічі обов’язкове виконання наступного:

1. **Статичний аналіз коду (SAST)**
   – Використовувати SonarQube або аналогічний інструмент.
   – Виправити всі критичні та високі вразливості.

2. **Динамічне тестування (DAST)**
   – Сканування через OWASP ZAP або Burp Suite.
   – Особлива увага до ендпоінтів авторизації та платіжних операцій.

3. **Перевірка секретів і токенів**
   – Аналіз репозиторію за допомогою `git-secrets`, `trufflehog`.
   – Заборонено зберігати секрети у відкритому коді або `.env` без шифрування.

4. **Ручна перевірка критичних компонентів**
   – Логін, реєстрація, відновлення паролю.
   – Доступ до адміністративних функцій.
   – Обробка платіжних та персональних даних.

5. **Фінальна перевірка через Claude.ai**
   – Генерація короткого аудиту із виявленими ризиками та порадами щодо усунення.


## 4. Ідентифікація критичних точок

AI-згенеровані проєкти часто містять слабкі місця у критичних зонах. Їх необхідно перевіряти в першу чергу, незалежно від загального обсягу змін:

1. **Аутентифікація та авторизація**

* Ненадійна логіка аутентифікації
* Відсутність перевірки прав доступу
* Неправильне управління сесіями та токенами
* Порушення принципу найменших привілеїв

2. **Обробка введених даних**

* Відсутність або слабка валідація введення
* Обхід валідаційної логіки
* Вразливість до SQL/NoSQL-інʼєкцій
* Вразливість до XSS

3. **Збереження та передача чутливої інформації**

* Збереження паролів, токенів, секретів у відкритому вигляді
* Відсутність HTTPS / неправильна реалізація TLS
* Порушення політик CORS та CSP

4. **Зовнішні інтеграції та API**

* Неконтрольований доступ до зовнішніх API
* API з фінансовими транзакціями без обмежень
* Використання AI-згенерованих запитів без перевірки

5. **Інфраструктура та DevOps**

* Відсутність сек’юріті-сканінгу в CI/CD
* Публічне розгортання без ізоляції середовищ
* Вразливості через застарілі або невідомі залежності

6. **Логування та моніторинг**

* Відсутність логування важливих подій
* Витік чутливих даних через логи
* Слабкий моніторинг аномалій та спроб атак

7. **Надійність AI-згенерованого коду**

* Вбудовані бекдори
* Некоректна логіка або обробка виключень
* Відсутність ревʼю з боку розробників

8. **Перевантаження API**

* DoS через необмежені запити
* Відсутність rate limiting / throttling
* Ненадійна обробка асинхронних подій

Перевірка цих зон має бути пріоритетною незалежно від того, генерувався код AI чи редагувався вручну.


## 5. Типові помилки

AI-генерований код часто виглядає правильним, але має серйозні вразливості. Нижче наведено найпоширеніші помилки, які зустрічаються в реальних проєктах:
Ось нейтрально сформульований розділ **«Типові помилки та кейси з практики»**, без прив'язки до конкретних мов чи інструментів:

1. Небезпечна обробка токенів

* Відсутність перевірки підпису та терміну дії токенів.
* Недостатній контроль ролей або прав доступу.
* Використання ненадійних алгоритмів або слабких ключів для підпису.

2. Ін’єкції та необроблене введення параметрів

* Формування запитів до бази даних або інших систем без належної перевірки.
* Можливість виконання стороннього коду або небажаних команд.
* Відсутність параметризації та валідації.

3. Уразливості пов’язані з відображенням даних

* Виведення введеної інформації без екранування або фільтрації.
* Можливість впровадження шкідливого вмісту у відображуваний інтерфейс.

4. Неналежне поводження з конфіденційною інформацією

* Жорстке кодування паролів, ключів доступу чи конфігурацій.
* Недостатній контроль за тим, які дані потрапляють у публічні репозиторії.
* Відсутність шифрування або обмеження доступу до критичних даних.

5. Недостатня перевірка доступу

* Можливість виконання дій без авторизації.
* Відкриті або неправильно захищені API чи функції.

6. Поверхнева валідація даних

* Сп reliance only on клієнтську перевірку без серверної.
* Відсутність перевірки структури, формату або меж значень.

7. Специфічні ризики при використанні AI

* Підміна логіки через маніпуляцію підказками (prompt injection).
* Рекомендації небезпечних або неіснуючих залежностей.
* Можливе ненавмисне збереження чи передача конфіденційних даних AI-моделлю.


## 6. Покроковий сценарій сек’юріті-сканінгу

Чітка послідовність дій для перевірки безпеки:

1. Запуск SonarQube та OWASP Dependency Check.
2. Виконання DAST-сканування через OWASP ZAP або Burp Suite.
3. Перевірка секретів за допомогою Git-secrets та Trufflehog.
4. Ручний рев’ю логіки критичних сценаріїв (логін, реєстрація, транзакції).
5. Отримання звіту і рекомендацій від Claude.ai.

## 7. Перспективи автоматизації процесів

Опис концепції CI/CD-джоби для повного пайплайну аналізу:

* Отримання URL репозиторію як параметру.
* Автоматизований запуск SAST і DAST.
* Інтеграція з Claude.ai для генерації рекомендацій.
* Формування зведеного звіту з переліком знайдених вразливостей і кроків для виправлення.
